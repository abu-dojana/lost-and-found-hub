@{
    ViewData["Title"] = "Home Page";
}

<!-- Short Listing of Lost and Found Items -->
<div class="container">
    <!-- Featured Lost Items Section -->
    <section class="items-list">
        <h2 style="color: aliceblue;">Featured Lost Items</h2>
        <div class="items-grid" id="lostItemsList">
            <!-- Dynamic Lost Items will be loaded here by app.js -->
        </div>
    </section>

    <!-- Featured Found Items Section -->
    <section class="items-list">
        <h2 style="color: aliceblue;">Featured Found Items</h2>
        <div class="items-grid" id="foundItemsList">
            <!-- Dynamic Found Items will be loaded here by app.js -->
        </div>
    </section>
</div>

<!-- Footer Section -->
<footer>
    <div class="footer-content">
        <p>&copy; 2025 Lost & Found, All Rights Reserved.</p>
        <div class="social-icons">
            <a href="#"><img src="/images/facebook.png" alt="Facebook"></a>
            <a href="#"><img src="/images/twitter.png" alt="Twitter"></a>
            <a href="#"><img src="/images/instagram.png" alt="Instagram"></a>
        </div>
    </div>
</footer>

<!-- Internal JavaScript to Display Lost and Found Items -->
<script>
    // Retrieve lost items from localStorage
    let lostItems = JSON.parse(localStorage.getItem('lostItems')) || [];

    // Function to create and display item cards dynamically
    function createItemCard(item) {
        const card = document.createElement('div');
        card.classList.add('item-card');

        // Set the image using base64
        const imageUrl = item.image ? item.image : '/images/default.jpg';  // Fallback image in case there's no image

        card.innerHTML = `
            <img src="${imageUrl}" alt="${item.name}">
            <h3>${item.name}</h3>
            <p><strong>Location:</strong> ${item.location}</p>
            <p><strong>Category:</strong> ${item.category}</p>
            <p><strong>Description:</strong> ${item.description}</p>
            <p><strong>Contact:</strong> ${item.contact}</p>
        `;

        return card;
    }

    // Function to display Lost Items on the Home Page
    function displayLostItems() {
        const lostItemsList = document.getElementById('lostItemsList');
        lostItemsList.innerHTML = '';  // Clear the list before appending new items

        if (lostItems.length === 0) {
            lostItemsList.innerHTML = '<p>No lost items available.</p>';
            return;
        }

        // Loop through and create item cards for Lost Items
        lostItems.forEach(item => {
            const card = createItemCard(item);
            lostItemsList.appendChild(card);
        });
    }

    // Call the function to display the lost items on page load
    document.addEventListener('DOMContentLoaded', function () {
        displayLostItems();
    });


    // Retrieve found items from localStorage
    let foundItems = JSON.parse(localStorage.getItem('foundItems')) || [];

    // Function to create and display item cards dynamically for found items
    function createItemCard(item, type) {
        const card = document.createElement('div');
        card.classList.add('item-card');

        // Add different class depending on item type (found)
        if (type === 'found') {
            card.classList.add('found-items');
        }

        // Ensure images are referenced correctly, assuming they're stored in base64
        const imageUrl = item.image ? item.image : '/images/default.jpg';  // Fallback image in case there's no image

        card.innerHTML = `
            <img src="${imageUrl}" alt="${item.name}">
            <h3>${item.name}</h3>
            <p><strong>Location:</strong> ${item.location}</p>
            <p><strong>Category:</strong> ${item.category}</p>
            <p><strong>Description:</strong> ${item.description}</p>
            <p><strong>Contact:</strong> ${item.contact}</p>
        `;

        return card;
    }

    // Function to display Found Items on the Home Page
    function displayFoundItems() {
        const foundItemsList = document.getElementById('foundItemsList');
        foundItemsList.innerHTML = '';  // Clear the list before appending new items

        if (foundItems.length === 0) {
            foundItemsList.innerHTML = '<p>No found items available.</p>';
            return;
        }

        // Loop through and create item cards for Found Items
        foundItems.forEach(item => {
            const card = createItemCard(item, 'found');
            foundItemsList.appendChild(card);
        });
    }

    // Call the function to display the found items on page load
    document.addEventListener('DOMContentLoaded', function () {
        displayFoundItems();
    });
 
</script>
